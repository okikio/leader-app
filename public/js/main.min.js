var Image=window.Image,$=window.$,Element=window.Element,CharacterData=window.CharacterData,DocumentType=window.DocumentType,Node=window.Node,Navbar=$(".navbar"),Menu=$(".navbar-menu"),NavLink=$(".navbar-link"),Body=$("body"),NavBackUp=$(".navbar-backup"),NavList=$(".navbar-list"),Hero=$(".layer-hero"),GoDown=$(".layer-hero-godown-anim, .layer-godown"),HeroImg=$(".layer-hero-img-div"),min=Math.min,max=Math.max,map=function(a,e,o,t,n){return t+(a-e)/(o-e)*(n-t)},Scroll=function(){var s=Body.scrollTop(),o=Hero.eq(0).height(),a=function(a,e){return map(s,0,o,a,e)};Navbar[(50<window.scrollY||NavList.hasClass("navbar-list-show")&&$(window).width()<700?"add":"remove")+"Class"]("navbar-focus"),Body.scrollTop()<$(window).height()-Navbar.height()?Navbar.css({"box-shadow":"0 "+max(a(2.5,-10),0)+"px 10px 5px rgba(0, 0, 0, 0.12)"}):Navbar.css({"box-shadow":"0 "+min(a(-2.5,10),-2.5)+"px 10px 5px rgba(0, 0, 0, 0.12)"}),$(".layer-content").each(function(){if($(this).offset().top+s<=s+300&&$(this).attr("id")){var a=$(this).attr("id");$("li.navbar-link").removeClass("navbar-link-focus"),$('li.navbar-link a[link="'+a+'"]').parent(".navbar-link").addClass("navbar-link-focus")}}),Hero.each(function(a,e){var o=Hero.eq(a),t=o.offset().top,n=o.height(),r=function(a,e){return map(s,t+s,t+s+n,a,e)},i=function(){o.hasClass("layer-hero-sub")&&(o.find(".layer-hero-img").css({transform:"translate(-50%, -"+(60-max(min(r(0,20),50),0))+"%)","z-index":a}),o.find(".layer-hero-overlay").css({opacity:max(min(r(.45,1),.99),.45),"z-index":a}),o.find(".layer-hero-content").css({"z-index":a}))};i(),(t<=0&&0<=n+t||0==Math.round(r(0,100))||100==Math.round(r(0,100)))&&(o.hasClass("layer-hero-sub")?i():(o.find(".layer-hero-overlay").css({opacity:max(min(r(.55,1),.99),.55),"z-index":a}),o.find(".layer-hero-img").css({transform:"translate(-50%, -50%) scale("+max(min(r(1,1.45),1.45),1)+")","z-index":a}),o.find(".layer-hero-content").css({transform:"translate(-50%, "+max(min(r(-50,200),100),-50)+"%)",opacity:max(max(r(1,-.4),.7),-.4),"z-index":a})),o.find(".layer-hero-godown-anim").css({opacity:min(max(r(1,-3.9),0),1),"z-index":a}))})},ImgLoad=function(){$("load-img").each(function(a,e){var o=new Image,t=e.getAttribute("src"),n=e.getAttribute("alt"),r=e.getAttribute("class");o.onload=function(){var a=$(o);a.attr("alt",n),a.attr("class",r+" load-img"),e.before(a.get(0)),$(e).remove()},o.onerror=function(a){console.log("One of the images didn't load: "+a)},o.src=t})};Scroll(),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(a){a.hasOwnProperty("before")||Object.defineProperty(a,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(){var a=Array.prototype.slice.call(arguments),o=document.createDocumentFragment();a.forEach(function(a){var e=a instanceof Node;o.appendChild(e?a:document.createTextNode(String(a)))}),this.parentNode.insertBefore(o,this)}})}),Menu.on("click",function(){return NavList.toggleClass("navbar-list-show"),Navbar[(window.scrollY<50&&$(window).width()<700&&!NavList.hasClass("navbar-list-show")?"remove":"add")+"Class"]("navbar-focus")}),HeroImg.each(function(a){$(this).css("background","url("+$(this).attr("data-src")+")"),$(this).after($("<load-img/>").attr({src:$(this).attr("data-src"),class:$(this).attr("class"),alt:$(this).attr("alt"),id:"img"+a}));var e=$("load-img#img"+a),o=new Image,t=$(this).attr("data-src"),n=$(this).attr("class"),r=$(this).attr("alt");o.src=t,o.onload=function(){var a=$(o);a.attr("alt",r),a.attr("class",n+" load-img"),e.after(o),$(e).remove()},o.onerror=function(a){console.log("One of the images didn't load: "+a)}}),NavBackUp.on("click",function(){Body.animate({scrollTop:0},800,Scroll)}),NavLink.on("click",function(){var a=Body.scrollTop(),e=$(this).find("a").html().toLowerCase(),o=$(".layer-content#"+e);Body.animate({scrollTop:o.offset().top+a+1},600,Scroll)}),GoDown.on("click",function(){var a=Body.scrollTop(),e=$(this).parents(".layer-content").next(".layer-content");Body.animate({scrollTop:e.offset().top+a+1},600,Scroll)}),Body.scroll(Scroll),$(document).ready(function(){$("div.cover").on("click",function(){$(this).removeClass("load")}),setTimeout(function(){$("div.cover").removeClass("load"),$("a[href|='/']").click(function(a){$("div.cover").addClass("load")})},500),ImgLoad()});var navigator=window.navigator;if("serviceWorker"in navigator)navigator.serviceWorker.getRegistrations().then(function(a){0==a.length&&navigator.serviceWorker.register("/js/sw.min.js").then(function(a){console.log("[Service Worker] registration successful with scope: ",a.scope),a.installing?console.log("[Service Worker] installing"):a.waiting?console.log("[Service Worker] installed"):a.active&&console.log("[Service Worker] active")}).catch(function(a){console.error("[Service Worker] registration failed: ",a)})});else if("applicationCache"in window){var status,appCache=window.applicationCache;appCache.update(),status=function(){switch(appCache.status){case appCache.UNCACHED:return"UNCACHED";case appCache.IDLE:return"IDLE";case appCache.CHECKING:return"CHECKING";case appCache.DOWNLOADING:return"DOWNLOADING";case appCache.UPDATEREADY:return appCache.swapCache(),"UPDATEREADY";case appCache.OBSOLETE:return"OBSOLETE";default:return"UKNOWN CACHE STATUS"}}(),window.addEventListener("load",function(){window.applicationCache.addEventListener("updateready",function(a){"UPDATEREADY"==status?(window.applicationCache.swapCache(),confirm("A new version of this site is available. Load it?")&&window.location.reload()):console.log("No Cache Change.")},!1)},!1)}else console.log("No Service Worker's or App Cache Support");