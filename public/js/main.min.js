var Image=window.Image,$=window.$,Element=window.Element,CharacterData=window.CharacterData,DocumentType=window.DocumentType,Node=window.Node,Navbar=$(".navbar"),Menu=$(".navbar-menu"),NavLink=$(".navbar-link"),Body=$("body"),NavBackUp=$(".navbar-backup"),NavList=$(".navbar-list"),Hero=$(".layer-hero"),GoDown=$(".layer-hero-godown-anim, .layer-godown"),HeroImg=$(".layer-hero-img-div"),min=Math.min,max=Math.max,map=function(a,o,t,e,n){return e+(a-o)/(t-o)*(n-e)},Scroll=function(){function a(a,o){return map(s,0,t,a,o)}var s=Body.scrollTop(),t=Hero.eq(0).height();Navbar[(50<window.scrollY||NavList.hasClass("navbar-list-show")&&$(window).width()<700?"add":"remove")+"Class"]("navbar-focus"),Body.scrollTop()<$(window).height()-Navbar.height()?Navbar.css({"box-shadow":"0 "+max(a(2.5,-10),0)+"px 10px 5px rgba(0, 0, 0, 0.12)"}):Navbar.css({"box-shadow":"0 "+min(a(-2.5,10),-2.5)+"px 10px 5px rgba(0, 0, 0, 0.12)"}),$(".layer-content").each(function(){if($(this).offset().top+s<=s+300&&$(this).attr("id")){var a=$(this).attr("id");$("li.navbar-link").removeClass("navbar-link-focus"),$('li.navbar-link a[link="'+a+'"]').parent(".navbar-link").addClass("navbar-link-focus")}}),Hero.each(function(a,o){function t(a,o){return map(s,r+s,r+s+i,a,o)}function e(){n.hasClass("layer-hero-sub")&&(n.find(".layer-hero-img").css({transform:"translate(-50%, -"+(60-max(min(t(0,20),50),0))+"%)","z-index":a}),n.find(".layer-hero-overlay").css({opacity:max(min(t(.45,1),.99),.45),"z-index":a}),n.find(".layer-hero-content").css({"z-index":a}))}var n=Hero.eq(a),r=n.offset().top,i=n.height();e(),(r<=0&&0<=i+r||0==Math.round(t(0,100))||100==Math.round(t(0,100)))&&(n.hasClass("layer-hero-sub")?e():(n.find(".layer-hero-overlay").css({opacity:max(min(t(.55,1),.99),.55),"z-index":a}),n.find(".layer-hero-img").css({transform:"translate(-50%, -50%) scale("+max(min(t(1,1.45),1.45),1)+")","z-index":a}),n.find(".layer-hero-content").css({transform:"translate(-50%, "+max(min(t(-50,200),100),-50)+"%)",opacity:max(max(t(1,-.4),.7),-.4),"z-index":a})),n.find(".layer-hero-godown-anim").css({opacity:min(max(t(1,-3.9),0),1),"z-index":a}))})},ImgLoad=function(){$("load-img").each(function(a,o){var t=new Image,e=o.getAttribute("src"),n=o.getAttribute("alt"),r=o.getAttribute("class");t.onload=function(){var a=$(t);a.attr("alt",n),a.attr("class",r+" load-img"),o.before(a.get(0)),$(o).remove()},t.onerror=function(a){console.log("One of the images didn't load: "+a)},t.src=e})};Scroll(),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(a){a.hasOwnProperty("before")||Object.defineProperty(a,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(){var a=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();a.forEach(function(a){var o=a instanceof Node;t.appendChild(o?a:document.createTextNode(String(a)))}),this.parentNode.insertBefore(t,this)}})}),Menu.on("click",function(){return NavList.toggleClass("navbar-list-show"),Navbar[(window.scrollY<50&&$(window).width()<700&&!NavList.hasClass("navbar-list-show")?"remove":"add")+"Class"]("navbar-focus")}),HeroImg.each(function(a){$(this).css("background","url("+$(this).attr("data-src")+")"),$(this).after($("<load-img/>").attr({src:$(this).attr("data-src"),class:$(this).attr("class"),alt:$(this).attr("alt"),id:"img"+a}));var o=$("load-img#img"+a),t=new Image,e=$(this).attr("data-src"),n=$(this).attr("class"),r=$(this).attr("alt");t.src=e,t.onload=function(){var a=$(t);a.attr("alt",r),a.attr("class",n+" load-img"),o.after(t),$(o).remove()},t.onerror=function(a){console.log("One of the images didn't load: "+a)}}),NavBackUp.on("click",function(){Body.animate({scrollTop:0},800,Scroll)}),NavLink.on("click",function(){var a=Body.scrollTop(),o=$(this).find("a").html().toLowerCase(),t=$(".layer-content#"+o);Body.animate({scrollTop:t.offset().top+a+1},600,Scroll)}),GoDown.on("click",function(){var a=Body.scrollTop(),o=$(this).parents(".layer-content").next(".layer-content");Body.animate({scrollTop:o.offset().top+a+1},600,Scroll)}),Body.scroll(Scroll),$("div.cover").on("click",function(){$(this).removeClass("load")}),setTimeout(function(){$("div.cover").removeClass("load"),$("a[href|='/']").click(function(a){$("div.cover").addClass("load")})},500),$(document).ready(function(){ImgLoad()});