var Image=window.Image,$=window.$,Element=window.Element,CharacterData=window.CharacterData,DocumentType=window.DocumentType,Node=window.Node,Navbar=$(".navbar"),Menu=$(".navbar-menu"),NavLink=$(".navbar-link"),Body=$("body"),NavBackUp=$(".navbar-backup"),NavList=$(".navbar-list"),Hero=$(".layer-hero"),GoDown=$(".layer-hero-godown-anim, .layer-godown"),HeroImg=$(".layer-hero-img-div"),min=Math.min,max=Math.max,map=function(a,o,e,r,t){return r+(a-o)/(e-o)*(t-r)},Scroll=function(){var s=Body.scrollTop(),e=Hero.eq(0).height(),a=function(a,o){return map(s,0,e,a,o)};Navbar[(50<window.scrollY||NavList.hasClass("navbar-list-show")&&$(window).width()<700?"add":"remove")+"Class"]("navbar-focus"),Body.scrollTop()<$(window).height()-Navbar.height()?Navbar.css({"box-shadow":"0 "+max(a(2.5,-10),0)+"px 10px 5px rgba(0, 0, 0, 0.12)"}):Navbar.css({"box-shadow":"0 "+min(a(-2.5,10),-2.5)+"px 10px 5px rgba(0, 0, 0, 0.12)"}),$(".layer-content").each(function(){if($(this).offset().top+s<=s+300&&$(this).attr("id")){var a=$(this).attr("id");$("li.navbar-link").removeClass("navbar-link-focus"),$('li.navbar-link a[link="'+a+'"]').parent(".navbar-link").addClass("navbar-link-focus")}}),Hero.each(function(a,o){var e=Hero.eq(a),r=e.offset().top,t=e.height(),n=function(a,o){return map(s,r+s,r+s+t,a,o)},i=function(){e.hasClass("layer-hero-sub")&&(e.find(".layer-hero-img").css({transform:"translate(-50%, -"+(60-max(min(n(0,20),50),0))+"%)","z-index":a}),e.find(".layer-hero-overlay").css({opacity:max(min(n(.45,1),.99),.45),"z-index":a}),e.find(".layer-hero-content").css({"z-index":a}))};i(),(r<=0&&0<=t+r||0==Math.round(n(0,100))||100==Math.round(n(0,100)))&&(e.hasClass("layer-hero-sub")?i():(e.find(".layer-hero-overlay").css({opacity:max(min(n(.55,1),.99),.55),"z-index":a}),e.find(".layer-hero-img").css({transform:"translate(-50%, -50%) scale("+max(min(n(1,1.45),1.45),1)+")","z-index":a}),e.find(".layer-hero-content").css({transform:"translate(-50%, "+max(min(n(-50,200),100),-50)+"%)",opacity:max(max(n(1,-.4),.7),-.4),"z-index":a})),e.find(".layer-hero-godown-anim").css({opacity:min(max(n(1,-3.9),0),1),"z-index":a}))})},ImgLoad=function(){$("load-img").each(function(a,o){var e=new Image,r=o.getAttribute("src"),t=o.getAttribute("alt"),n=o.getAttribute("class");e.onload=function(){var a=$(e);a.attr("alt",t),a.attr("class",n+" load-img"),o.before(a.get(0)),$(o).remove()},e.onerror=function(a){console.log("One of the images didn't load: "+a)},e.src=r})};Scroll(),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(a){a.hasOwnProperty("before")||Object.defineProperty(a,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(){var a=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();a.forEach(function(a){var o=a instanceof Node;e.appendChild(o?a:document.createTextNode(String(a)))}),this.parentNode.insertBefore(e,this)}})}),Menu.on("click",function(){return NavList.toggleClass("navbar-list-show"),Navbar[(window.scrollY<50&&$(window).width()<700&&!NavList.hasClass("navbar-list-show")?"remove":"add")+"Class"]("navbar-focus")}),HeroImg.each(function(a){$(this).css("background","url("+$(this).attr("data-src")+")"),$(this).after($("<load-img/>").attr({src:$(this).attr("data-src"),class:$(this).attr("class"),alt:$(this).attr("alt"),id:"img"+a}));var o=$("load-img#img"+a),e=new Image,r=$(this).attr("data-src"),t=$(this).attr("class"),n=$(this).attr("alt");e.src=r,e.onload=function(){var a=$(e);a.attr("alt",n),a.attr("class",t+" load-img"),o.after(e),$(o).remove()},e.onerror=function(a){console.log("One of the images didn't load: "+a)}}),NavBackUp.on("click",function(){Body.animate({scrollTop:0},800,Scroll)}),NavLink.on("click",function(){var a=Body.scrollTop(),o=$(this).find("a").html().toLowerCase(),e=$(".layer-content#"+o);Body.animate({scrollTop:e.offset().top+a+1},600,Scroll)}),GoDown.on("click",function(){var a=Body.scrollTop(),o=$(this).parents(".layer-content").next(".layer-content");Body.animate({scrollTop:o.offset().top+a+1},600,Scroll)}),Body.scroll(Scroll),$(document).ready(function(){$("div.cover").on("click",function(){$(this).removeClass("load")}),setTimeout(function(){$("div.cover").removeClass("load"),$("a[href|='/']").click(function(a){$("div.cover").addClass("load")})},500),ImgLoad()});var navigator=window.navigator;"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(function(a){0==a.length&&navigator.serviceWorker.register("/js/sw.min.js").then(function(a){console.log("[Service Worker] registration successful with scope: ",a.scope),a.installing?console.log("[Service Worker] installing"):a.waiting?console.log("[Service Worker] installed"):a.active&&console.log("[Service Worker] active")}).catch(function(a){console.error("[Service Worker] registration failed: ",a)})}):console.log("No Service Worker's or App Cache Support");